<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HTML Nesting: Grouping Headings and Paragraphs</title>

    <!--
      POLISHED VERSION (Showcase/UI)
      -----------------------------
      Lesson goal:
      - Help students understand WHY we nest (group) content in real websites.

      Main idea:
      - Nesting tags is not only about "indentation".
      - Nesting creates a meaningful structure so humans, browsers, CSS, JS, and
        screen readers can understand the page.

      Topics covered:
      1) What "nesting" means in HTML
      2) Real-world grouping with <header>, <main>, <section>, and <article>
      3) Why nesting helps: readability, styling, accessibility, and JavaScript
      4) Small JavaScript demo: analyze the page structure

      Note:
      - We keep HTML, CSS, and JavaScript in clear, separated sections.
      - Comments explain what AND why (beginner-friendly).
    -->

    <style>
      /*
        Step 1: Minimal styling for readability.
        This lesson is about structure, not fancy design.
      */
      body {
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        line-height: 1.5;
        margin: 0;
        padding: 24px;
      }

      header,
      main,
      footer {
        max-width: 980px;
        margin: 0 auto;
      }

      header {
        margin-bottom: 18px;
      }

      section {
        border: 1px solid #ddd;
        border-radius: 10px;
        padding: 16px;
        margin: 16px 0;
      }

      .grid-2 {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
      }

      .box {
        border: 1px dashed #aaa;
        border-radius: 10px;
        padding: 14px;
        background: #fafafa;
      }

      code,
      pre {
        font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
        font-size: 0.95rem;
      }

      pre {
        margin: 0;
        padding: 12px;
        border-radius: 8px;
        background: #111;
        color: #f3f3f3;
        overflow: auto;
      }

      .help {
        margin: 0;
        color: #333;
      }

      .toc {
        padding-left: 18px;
        margin: 10px 0 0;
      }

      .controls {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
        margin-top: 10px;
      }

      button {
        font: inherit;
        padding: 10px 14px;
        border-radius: 8px;
        border: 1px solid #111;
        background: #111;
        color: #fff;
        cursor: pointer;
      }

      button.secondary {
        background: #fff;
        color: #111;
      }

      .output {
        margin-top: 12px;
        padding: 12px;
        border: 1px dashed #aaa;
        border-radius: 8px;
        background: #fafafa;
      }

      /*
        Step 2: When the page has data-debug-outlines="on",
        we visually show where the groups (sections/articles) are.

        This is intentionally subtle: we want structure awareness.
      */
      [data-debug-outlines="on"] section {
        outline: 2px solid #000;
        outline-offset: 3px;
      }

      [data-debug-outlines="on"] article {
        outline: 2px dashed #000;
        outline-offset: 3px;
      }

      @media (max-width: 760px) {
        .grid-2 {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>

  <body>
    <header>
      <h1>Why Do We Nest (Group) Content in HTML?</h1>
      <p class="help">
        Real websites are not a random list of headings and paragraphs. We group
        related content so the page has a clear structure.
      </p>

      <!--
        A mini table of contents is a real-world example:
        It works best when the page is organized into meaningful sections.
      -->
      <nav aria-label="Lesson sections">
        <ol class="toc">
          <li><a href="#meaning">What nesting means</a></li>
          <li><a href="#real-world">Real-world example (homepage)</a></li>
          <li><a href="#compare">Ungrouped vs grouped</a></li>
          <li><a href="#js-demo">JavaScript demo: analyze structure</a></li>
        </ol>
      </nav>
    </header>

    <main>
      <section id="meaning" aria-labelledby="meaning-title">
        <h2 id="meaning-title">1) What does “nesting” mean?</h2>

        <!--
          Key idea:
          - Nesting means putting one element INSIDE another element.
          - We do this to show relationships.

          Example:
          - A <section> is a group of content.
          - Inside that section we might have a heading (<h2>) and paragraphs (<p>).
        -->

        <div class="grid-2">
          <div class="box">
            <h3>In plain words</h3>
            <p>
              Nesting is like organizing school notes into a notebook:
              <strong>a chapter</strong> contains <strong>topics</strong>, and a
              topic contains <strong>sentences</strong>.
            </p>
            <p>
              On a webpage, a <code>&lt;section&gt;</code> can be a “topic”, and
              the <code>&lt;h2&gt;</code> + <code>&lt;p&gt;</code> inside it are
              the details.
            </p>
          </div>

          <div class="box">
            <h3>Small HTML example</h3>
            <pre>&lt;section&gt;
  &lt;h2&gt;Shipping Info&lt;/h2&gt;
  &lt;p&gt;Orders arrive in 3–5 business days.&lt;/p&gt;
  &lt;p&gt;Tracking is emailed after checkout.&lt;/p&gt;
&lt;/section&gt;</pre>
            <p class="help" style="margin-top: 10px;">
              Notice how the heading and paragraphs are grouped inside one
              <code>&lt;section&gt;</code>.
            </p>
          </div>
        </div>
      </section>

      <section id="real-world" aria-labelledby="real-world-title">
        <h2 id="real-world-title">2) Real-world example: a simple homepage</h2>

        <!--
          Real-world scenario:
          - A homepage often has multiple groups of content.

          We'll model three common groups:
          - Top stories (a section containing multiple articles)
          - Announcements (a section)
          - Contact info (a section)

          Why we choose these tags:
          - <main> contains the main content of the page
          - <section> groups related content
          - <article> represents a standalone piece (a story/card/post)
        -->

        <p class="help">
          Imagine a school news homepage. Each “area” is a group, and each story
          is a standalone <code>&lt;article&gt;</code>.
        </p>

        <div class="grid-2" style="margin-top: 12px;">
          <div class="box">
            <h3>Rendered (grouped structure)</h3>

            <!--
              IMPORTANT:
              This is a nested structure that looks like many real sites:
              a section with multiple articles.
            -->
            <section aria-labelledby="top-stories-title">
              <h4 id="top-stories-title" style="margin-top: 0;">Top Stories</h4>

              <article aria-labelledby="story-1-title">
                <h5 id="story-1-title">New Library Hours</h5>
                <p>The library is now open until 7PM on weekdays.</p>
              </article>

              <article aria-labelledby="story-2-title">
                <h5 id="story-2-title">Intramurals Sign-Up</h5>
                <p>Join basketball or volleyball. Registration ends Friday.</p>
              </article>
            </section>

            <section aria-labelledby="announcements-title">
              <h4 id="announcements-title">Announcements</h4>
              <p>
                Midterm week starts next Monday. Check your schedule and room
                assignments.
              </p>
            </section>

            <section aria-labelledby="contact-title">
              <h4 id="contact-title">Contact</h4>
              <p>Email: registrar@example.com</p>
              <p>Office Hours: 9AM–4PM</p>
            </section>
          </div>

          <div class="box">
            <h3>Why this matters in real projects</h3>
            <ul>
              <li>
                <strong>Readability:</strong> teammates can quickly see what
                belongs together.
              </li>
              <li>
                <strong>Accessibility:</strong> screen readers can navigate by
                landmarks and headings.
              </li>
              <li>
                <strong>Styling:</strong> CSS can target groups (like “all
                articles inside Top Stories”).
              </li>
              <li>
                <strong>JavaScript:</strong> code can loop through each section
                and summarize it.
              </li>
            </ul>
          </div>
        </div>
      </section>

      <section id="compare" aria-labelledby="compare-title">
        <h2 id="compare-title">3) Ungrouped vs grouped (why grouping wins)</h2>

        <!--
          In real life, beginners sometimes write content "flat":
          - headings and paragraphs, but no grouping.

          That makes it harder to:
          - style one part without affecting others
          - select "the stories" in JavaScript
          - understand the page at a glance
        -->

        <div class="grid-2">
          <div class="box">
            <h3>Ungrouped (harder to target)</h3>
            <pre>&lt;h2&gt;Top Stories&lt;/h2&gt;
&lt;h3&gt;New Library Hours&lt;/h3&gt;
&lt;p&gt;The library is now open until 7PM...&lt;/p&gt;

&lt;h3&gt;Intramurals Sign-Up&lt;/h3&gt;
&lt;p&gt;Join basketball or volleyball...&lt;/p&gt;

&lt;h2&gt;Announcements&lt;/h2&gt;
&lt;p&gt;Midterm week starts next Monday...&lt;/p&gt;</pre>
            <p class="help" style="margin-top: 10px;">
              It’s not “wrong”, but the relationships are less clear.
            </p>
          </div>

          <div class="box">
            <h3>Grouped (clear structure)</h3>
            <pre>&lt;section aria-labelledby="top-stories"&gt;
  &lt;h2 id="top-stories"&gt;Top Stories&lt;/h2&gt;

  &lt;article&gt;
    &lt;h3&gt;New Library Hours&lt;/h3&gt;
    &lt;p&gt;The library is now open until 7PM...&lt;/p&gt;
  &lt;/article&gt;

  &lt;article&gt;
    &lt;h3&gt;Intramurals Sign-Up&lt;/h3&gt;
    &lt;p&gt;Join basketball or volleyball...&lt;/p&gt;
  &lt;/article&gt;
&lt;/section&gt;</pre>
            <p class="help" style="margin-top: 10px;">
              Now “Top Stories” is a real group you can style and analyze.
            </p>
          </div>
        </div>
      </section>

      <section id="js-demo" aria-labelledby="js-demo-title">
        <h2 id="js-demo-title">4) JavaScript demo: analyze the structure</h2>

        <!--
          Why this demo exists:
          - In real websites, JavaScript frequently needs to "find" parts of the page.
          - Grouping makes it easy to select related content.

          We'll do two actions:
          1) Toggle outlines so you can SEE groups.
          2) Analyze the page and print a summary.
        -->

        <p class="help">
          Click the buttons, then open DevTools Console to see the logs.
        </p>

        <div class="controls">
          <button type="button" id="toggle-outlines-btn">Toggle group outlines</button>
          <button type="button" class="secondary" id="analyze-btn">Analyze structure</button>
        </div>

        <div class="output" aria-live="polite">
          <strong>Output:</strong>
          <pre id="analysis-output" style="margin-top: 10px;">Click “Analyze structure” to generate a summary.</pre>
        </div>

        <!--
          We will analyze the grouped example inside the "Real-world example" section.
          That section contains multiple nested <section> and <article> elements.
        -->
      </section>
    </main>

    <footer>
      <p class="help">
        Practice idea: Add a new <code>&lt;article&gt;</code> inside “Top Stories”,
        then run “Analyze structure” again.
      </p>
    </footer>

    <script>
      // Step 1: Select the interactive elements
      const toggleOutlinesButton = document.querySelector('#toggle-outlines-btn');
      const analyzeButton = document.querySelector('#analyze-btn');
      const analysisOutput = document.querySelector('#analysis-output');

      // Step 2: Select the part of the page we want to analyze
      // We analyze the entire <main> because that represents the "main content" area.
      const mainContent = document.querySelector('main');

      // Step 3: Toggle a data attribute on the <body> to enable CSS outlines
      function toggleGroupOutlines() {
        const currentState = document.body.getAttribute('data-debug-outlines');
        const nextState = currentState === 'on' ? 'off' : 'on';

        document.body.setAttribute('data-debug-outlines', nextState);

        console.log('[Nesting Lesson] Toggled outlines:', { nextState });
      }

      // Step 4: Build a readable structure summary
      function analyzePageStructure() {
        // Count common grouping elements
        const sectionElements = mainContent.querySelectorAll('section');
        const articleElements = mainContent.querySelectorAll('article');
        const headingElements = mainContent.querySelectorAll('h1, h2, h3, h4, h5, h6');
        const paragraphElements = mainContent.querySelectorAll('p');

        console.log('[Nesting Lesson] Structure counts:', {
          sections: sectionElements.length,
          articles: articleElements.length,
          headings: headingElements.length,
          paragraphs: paragraphElements.length,
        });

        // Summarize each section by its first heading text
        // This demonstrates a real-world pattern: "loop through each group".
        const sectionSummaries = [];

        for (const sectionElement of sectionElements) {
          // Find the first heading inside the section (if any)
          const sectionHeading = sectionElement.querySelector('h2, h3, h4, h5, h6');
          const sectionTitle = sectionHeading ? sectionHeading.textContent.trim() : '(Untitled section)';

          const paragraphsInSection = sectionElement.querySelectorAll('p').length;
          const articlesInSection = sectionElement.querySelectorAll('article').length;

          sectionSummaries.push({
            sectionTitle,
            paragraphsInSection,
            articlesInSection,
          });
        }

        console.log('[Nesting Lesson] Section summaries:', sectionSummaries);

        // Turn results into a readable text block for students
        const lines = [];
        lines.push('Structure Summary (inside <main>):');
        lines.push(`- Sections: ${sectionElements.length}`);
        lines.push(`- Articles: ${articleElements.length}`);
        lines.push(`- Headings: ${headingElements.length}`);
        lines.push(`- Paragraphs: ${paragraphElements.length}`);
        lines.push('');
        lines.push('Per section:');

        for (const summary of sectionSummaries) {
          lines.push(`- ${summary.sectionTitle}: ${summary.paragraphsInSection} paragraph(s), ${summary.articlesInSection} article(s)`);
        }

        analysisOutput.textContent = lines.join('\n');
      }

      // Step 5: Attach event listeners
      toggleOutlinesButton.addEventListener('click', toggleGroupOutlines);
      analyzeButton.addEventListener('click', analyzePageStructure);

      // Step 6: Provide a helpful initial log for students
      console.log('[Nesting Lesson] Ready. Try the buttons on the page.');
    </script>
  </body>
</html>
